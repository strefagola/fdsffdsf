<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>StrefaGola (SG)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<style>
:root {
--bg: #0d101a;
--card: #161b26;
--text: #e0e0e0;
--text-light: #a0a0a0;
--accent: #ff3b3b;
--border: #252b3a;
}
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}
body {
font-family: 'Roboto', system-ui, sans-serif;
background: var(--bg);
color: var(--text);
line-height: 1.6;
}
.top-nav {
background: #0b0e15;
border-bottom: 2px solid var(--accent);
padding: 0;
position: sticky;
top: 0;
z-index: 1000;
}
.nav-container {
max-width: 1600px;
margin: 0 auto;
display: flex;
overflow-x: auto;
}
.nav-container::-webkit-scrollbar {
display: none;
}
.top-nav ul {
display: flex;
list-style: none;
padding: 0 10px;
}
.top-nav li {
margin: 0;
}
.logo-box {
display: flex;
align-items: center;
padding: 8px 16px;
background: var(--accent);
min-width: 140px;
}
.logo-box img {
height: 28px;
margin-right: 10px;
}
.logo-text {
color: white;
font-weight: 700;
font-size: 1.1rem;
white-space: nowrap;
}
.top-nav a {
color: var(--text);
text-decoration: none;
padding: 12px 14px;
font-weight: 600;
font-size: 0.9rem;
white-space: nowrap;
border-bottom: 2px solid transparent;
transition: all 0.2s;
}
.top-nav a:hover, .top-nav a.active {
color: white;
border-bottom: 2px solid var(--accent);
}
#main {
max-width: 1400px;
margin: 20px auto;
padding: 0 15px;
}
header img {
width: 100%;
height: 160px;
object-fit: cover;
border-radius: 6px;
margin-bottom: 20px;
}
.page {
display: none;
}
.page.active {
display: block;
}
.page h2, .liga-subpage h3 {
font-size: 1.7rem;
margin: 20px 0 15px;
color: white;
font-weight: 700;
padding-bottom: 8px;
border-bottom: 2px solid var(--accent);
}
.hero {
text-align: center;
margin-bottom: 25px;
}
.hero h1 {
font-size: 2.1rem;
margin-bottom: 10px;
color: white;
}
.hero p {
font-size: 1rem;
color: var(--text-light);
max-width: 600px;
margin: 0 auto;
}
.features-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
gap: 16px;
margin: 20px 0;
}
.feature-card {
background: var(--card);
padding: 16px;
border-radius: 6px;
text-align: center;
border: 1px solid var(--border);
}
.feature-card h3 {
margin-bottom: 6px;
color: white;
font-size: 1.1rem;
}
.content-grid {
display: grid;
gap: 20px;
}
.content-item {
background: var(--card);
padding: 18px;
border-radius: 6px;
border: 1px solid var(--border);
position: relative;
}
.content-item h3 {
font-size: 1.4rem;
margin-bottom: 10px;
color: white;
font-weight: 600;
}
.content-item .article-content {
line-height: 1.6;
color: var(--text-light);
white-space: pre-wrap;
margin-bottom: 12px;
font-size: 0.95rem;
}
.content-item img {
max-width: 100%;
height: auto;
border-radius: 6px;
margin: 10px 0;
display: block;
}
.content-item iframe, .content-item video {
width: 100%;
height: 220px;
border-radius: 6px;
margin: 10px 0;
}
.edit-btn, .delete-btn {
background: var(--accent);
color: white;
border: none;
padding: 5px 10px;
border-radius: 4px;
font-weight: 600;
cursor: pointer;
font-size: 0.85rem;
margin-left: 8px;
}
.delete-btn {
background: #dc2626;
}
.ligi-nav {
display: flex;
flex-wrap: wrap;
gap: 8px;
margin: 15px 0 20px;
}
.liga-btn {
padding: 7px 14px;
background: #1f2636;
border: 1px solid var(--border);
border-radius: 4px;
color: var(--text);
font-weight: 600;
font-size: 0.9rem;
cursor: pointer;
white-space: nowrap;
}
.liga-btn:hover {
background: #2a3245;
}
.liga-subpage {
display: none;
}
.liga-subpage.active-liga {
display: block;
}
.table-list {
width: 100%;
border-collapse: collapse;
margin-bottom: 20px;
background: var(--card);
border-radius: 6px;
overflow: hidden;
}
.table-list th,
.table-list td {
padding: 10px 12px;
text-align: center;
border-bottom: 1px solid var(--border);
}
.table-list th {
background: #0b0e15;
font-weight: 600;
}
.table-list tr:last-child td {
border-bottom: none;
}
.team-cell {
display: flex;
align-items: center;
gap: 8px;
justify-content: center;
}
.team-logo-small {
width: 20px;
height: 20px;
border-radius: 50%;
object-fit: cover;
}
.match-list {
display: grid;
gap: 6px;
}
.match-header {
background: #0b0e15;
padding: 8px 12px;
border-top-left-radius: 6px;
border-top-right-radius: 6px;
font-weight: 600;
font-size: 0.9rem;
display: flex;
justify-content: space-between;
align-items: center;
}
.match-row {
display: grid;
grid-template-columns: 1fr 1fr 1fr 1fr;
gap: 8px;
padding: 10px 12px;
border: 1px solid var(--border);
align-items: center;
position: relative;
}
.match-date {
font-size: 0.85rem;
color: var(--text-light);
}
.team-name {
display: flex;
align-items: center;
gap: 8px;
font-size: 0.9rem;
}
.team-logo {
width: 24px;
height: 24px;
border-radius: 50%;
object-fit: cover;
}
.score {
font-weight: 700;
font-size: 1rem;
text-align: center;
}
.admin-bar {
background: #090c12;
padding: 18px 15px;
margin-top: 30px;
border-top: 1px solid var(--border);
}
.admin-bar h3 {
margin-bottom: 10px;
color: var(--accent);
font-size: 1.1rem;
}
#adminPass {
width: 100%;
max-width: 280px;
padding: 9px;
margin: 6px 0 10px;
border: 1px solid var(--border);
border-radius: 4px;
background: #1a1f2c;
color: white;
font-size: 0.95rem;
}
.btn {
padding: 9px 14px;
border: none;
border-radius: 4px;
font-weight: 600;
cursor: pointer;
font-size: 0.95rem;
}
.btn-primary { background: var(--accent); color: white; }
.btn-danger { background: #d32f2f; color: white; }
.error {
color: #ff6b6b;
font-size: 0.8rem;
margin-top: 5px;
}
.modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0,0,0,0.85);
display: flex;
justify-content: center;
align-items: center;
z-index: 2000;
}
.modal-content {
background: var(--card);
width: 92%;
max-width: 600px;
border-radius: 10px;
overflow: hidden;
border: 1px solid var(--border);
}
.modal-header {
padding: 12px 16px;
background: var(--accent);
color: white;
display: flex;
justify-content: space-between;
align-items: center;
}
.close-btn {
background: none;
border: none;
color: white;
font-size: 1.4rem;
cursor: pointer;
width: 30px;
height: 30px;
border-radius: 50%;
}
.modal-body {
padding: 18px;
}
.modal-body input,
.modal-body textarea,
.modal-body select {
width: 100%;
padding: 9px;
margin: 9px 0;
border: 1px solid var(--border);
border-radius: 4px;
background: #1a1f2c;
color: white;
font-size: 0.95rem;
}
textarea {
min-height: 120px;
resize: vertical;
}
.modal-actions {
display: flex;
gap: 10px;
margin-top: 14px;
}
.hidden { display: none !important; }
footer {
color: var(--text-light);
text-align: center;
padding: 18px 0;
margin-top: 25px;
font-size: 0.85rem;
}
@media (max-width: 768px) {
.hero h1 { font-size: 1.8rem; }
.page h2, .liga-subpage h3 { font-size: 1.5rem; }
.content-item h3 { font-size: 1.3rem; }
.liga-btn { padding: 6px 12px; font-size: 0.85rem; }
.edit-btn, .delete-btn { padding: 4px 8px; font-size: 0.8rem; margin-left: 4px; }
.top-nav a { padding: 10px 12px; font-size: 0.85rem; }
.match-row {
grid-template-columns: auto 1fr auto;
gap: 8px;
}
.team-name {
font-size: 0.85rem;
}
.score {
font-size: 0.9rem;
}
.table-list {
font-size: 0.85rem;
}
.team-cell {
gap: 6px;
}
.team-logo-small {
width: 18px;
height: 18px;
}
}
</style>
</head>
<body>
<nav class="top-nav">
<div class="nav-container">
<div class="logo-box">
<img src="logo.png" alt="StrefaGola" onerror="this.style.display='none'" />
<span class="logo-text">StrefaGola</span>
</div>
<ul>
<li><a href="#" data-section="home" class="active">Strona g≈Ç√≥wna</a></li>
<li><a href="#" data-section="news">Aktualno≈õci</a></li>
<li><a href="#" data-section="results">Wyniki</a></li>
<li><a href="#" data-section="analysis">Analizy</a></li>
<li><a href="#" data-section="media">Multimedia</a></li>
<li><a href="#" data-section="history">Transfery</a></li>
<li><a href="#" data-section="schedule">Terminarz</a></li>
<li><a href="#" data-section="polskie">Polskie ligi</a></li>
<li><a href="#" data-section="zagraniczne">Ligi zagraniczne</a></li>
<li><a href="#" data-section="champions_league">Liga Mistrz√≥w</a></li>
<li><a href="#" data-section="europa_league">Liga Europy</a></li>
<li><a href="#" data-section="conference_league">Liga Konferencji</a></li>
<li><a href="#" data-section="mundial2026">Mundial 2026</a></li>
</ul>
</div>
</nav>
<main id="main">
<header>
<img src="https://www.ebilet.pl/now/app/uploads/2024/02/shutterstock_2253076431-1-1280x720.jpg" alt="Pi≈Çka no≈ºna" />
</header>
<div id="modal" class="modal hidden">
<div class="modal-content">
<div class="modal-header">
<h2 id="modalTitle">Dodaj tre≈õƒá</h2>
<button class="close-btn" onclick="closeModal()">&times;</button>
</div>
<div class="modal-body">
<select id="modalSection">
<option value="news">Aktualno≈õci</option>
<option value="results">Wyniki</option>
<option value="analysis">Analizy</option>
<option value="media">Multimedia</option>
<option value="history">Transfery</option>
<option value="schedule">Terminarz</option>
<option value="ekstraklasa">Ekstraklasa (mecz)</option>
<option value="pierwsza_liga">1 liga (mecz)</option>
<option value="druga_liga">2 liga (mecz)</option>
<option value="trzecia_liga_gr1">3 liga gr I (mecz)</option>
<option value="trzecia_liga_gr2">3 liga gr II (mecz)</option>
<option value="trzecia_liga_gr3">3 liga gr III (mecz)</option>
<option value="trzecia_liga_gr4">3 liga gr IV (mecz)</option>
<option value="premier_league">Premier League (mecz)</option>
<option value="laliga">LaLiga (mecz)</option>
<option value="bundesliga">Bundesliga (mecz)</option>
<option value="serie_a">Serie A (mecz)</option>
<option value="ligue_1">Ligue 1 (mecz)</option>
<option value="eredivisie">Eredivisie (mecz)</option>
<option value="primeira_liga">Primeira Liga (mecz)</option>
<option value="super_lig">S√ºper Lig (mecz)</option>
<option value="jupiler_league">Jupiler Pro League (mecz)</option>
<option value="champions_league">Liga Mistrz√≥w (mecz)</option>
<option value="europa_league">Liga Europy (mecz)</option>
<option value="conference_league">Liga Konferencji (mecz)</option>
<option value="mundial2026">Mundial 2026 (mecz)</option>
<option value="ekstraklasa_table">Ekstraklasa (tabela)</option>
<option value="pierwsza_liga_table">1 liga (tabela)</option>
<option value="druga_liga_table">2 liga (tabela)</option>
<option value="trzecia_liga_gr1_table">3 liga gr I (tabela)</option>
<option value="trzecia_liga_gr2_table">3 liga gr II (tabela)</option>
<option value="trzecia_liga_gr3_table">3 liga gr III (tabela)</option>
<option value="trzecia_liga_gr4_table">3 liga gr IV (tabela)</option>
<option value="premier_league_table">Premier League (tabela)</option>
<option value="laliga_table">LaLiga (tabela)</option>
<option value="bundesliga_table">Bundesliga (tabela)</option>
<option value="serie_a_table">Serie A (tabela)</option>
<option value="ligue_1_table">Ligue 1 (tabela)</option>
<option value="eredivisie_table">Eredivisie (tabela)</option>
<option value="primeira_liga_table">Primeira Liga (tabela)</option>
<option value="super_lig_table">S√ºper Lig (tabela)</option>
<option value="jupiler_league_table">Jupiler Pro League (tabela)</option>
<option value="champions_league_table">Liga Mistrz√≥w (tabela)</option>
<option value="europa_league_table">Liga Europy (tabela)</option>
<option value="conference_league_table">Liga Konferencji (tabela)</option>
<option value="mundial2026_table">Mundial 2026 (tabela)</option>
</select>
<div id="articleFields">
<input type="text" id="modalTitleInput" placeholder="Tytu≈Ç artyku≈Çu" />
<textarea id="modalContent" placeholder="Tre≈õƒá..."></textarea>
<input type="url" id="modalImage" placeholder="Link do zdjƒôcia" />
<input type="url" id="modalVideo" placeholder="Link do filmu" />
</div>
<div id="matchFields" style="display:none;">
<input type="text" id="modalTitleInputMatch" placeholder="KOLEJKA 20" />
<div style="margin:10px 0;padding:10px;background:#1a1f2c;border-radius:6px;">
<label>Gospodarz</label>
<input type="text" id="modalHomeTeam" placeholder="Dru≈ºyna" style="width:100%;margin:5px 0;" />
<input type="url" id="modalLogoHome" placeholder="URL herbu" style="width:100%;" />
</div>
<div style="margin:10px 0;padding:10px;background:#1a1f2c;border-radius:6px;">
<label>Go≈õƒá</label>
<input type="text" id="modalAwayTeam" placeholder="Dru≈ºyna" style="width:100%;margin:5px 0;" />
<input type="url" id="modalLogoAway" placeholder="URL herbu" style="width:100%;" />
</div>
<input type="text" id="modalDate" placeholder="Data i godzina" />
<input type="text" id="modalScore" placeholder="Wynik (np. 2:1)" />
</div>
<div id="tableFields" style="display:none;">
<input type="number" id="modalPosition" placeholder="Pozycja (1-20)" min="1" max="100" />
<input type="text" id="modalTeamName" placeholder="Nazwa dru≈ºyny" />
<input type="url" id="modalTeamLogo" placeholder="URL herbu dru≈ºyny" />
<input type="text" id="modalMatches" placeholder="Mecze (np. WWPPW)" />
<input type="number" id="modalPoints" placeholder="Liczba punkt√≥w" min="0" />
</div>
<div class="modal-actions">
<button class="btn btn-primary" id="modalSaveBtn" onclick="handleSave()">Zapisz</button>
<button class="btn btn-danger" id="modalDelBtn" onclick="deleteContent()" style="display:none;">Usu≈Ñ</button>
</div>
<p id="modalErr" class="error"></p>
</div>
</div>
</div>
<!-- ... wszystkie sekcje HTML bez zmian ... -->
<section id="home" class="page active">...</section>
<section id="news" class="page">...</section>
<!-- ... POLSKIE, ZAGRANICZNE, EUROPA ‚Äì identycznie jak w oryginale ... -->
<!-- üîê PANEL ADMINA ‚Äì POPRAWIONY -->
<div class="admin-bar" id="adminPanel">
<h3>Panel administratora</h3>
<div id="loginForm">
<input type="password" id="adminPass" placeholder="Has≈Ço" />
<button class="btn btn-primary" onclick="loginAdmin()">Zaloguj</button>
<p id="loginErr" class="error"></p>
</div>
<div id="adminTools" class="hidden">
<button class="btn btn-primary" onclick="openAddForm('news')">+ Artyku≈Ç</button>
<button class="btn btn-primary" onclick="openAddUniversal('match')">+ Mecz</button>
<button class="btn btn-primary" onclick="openAddUniversal('table')">+ Tabela</button>
<button class="btn btn-danger" onclick="logoutAdmin()" style="margin-left:10px;">Wyloguj</button>
</div>
</div>
</main>
<footer>¬© 2025 StrefaGola (SG) ‚Ä¢ strefa@gola.hub.pl</footer>
<script src="firebase-config.js"></script>
<script>
let isAdmin = false;
let currentDocId = null;
let currentSection = null;
const articleSections = ['news','results','analysis','media','history','schedule'];
const matchSections = ['ekstraklasa','pierwsza_liga','druga_liga','trzecia_liga_gr1','trzecia_liga_gr2','trzecia_liga_gr3','trzecia_liga_gr4','premier_league','laliga','bundesliga','serie_a','ligue_1','eredivisie','primeira_liga','super_lig','jupiler_league','champions_league','europa_league','conference_league','mundial2026'];
const tableSections = matchSections.map(s => s + '_table');

// ... funkcje showSection, showLiga, loginAdmin, logoutAdmin ‚Äì bez zmian ...

auth.onAuthStateChanged(user => {
  isAdmin = user && user.email === "admin@sgstrefagola.pl";
  document.getElementById('loginForm').classList.toggle('hidden', isAdmin);
  document.getElementById('adminTools').classList.toggle('hidden', !isAdmin);
  if (isAdmin) {
    [...articleSections, ...matchSections, ...tableSections].forEach(loadSection);
  }
});

function openAddForm(section) {
  if (!isAdmin) return;
  currentDocId = null;
  currentSection = section;
  configureModal(section, null, false);
}

// ‚úÖ NOWA: uniwersalne otwieranie z wyborem ligi
function openAddUniversal(type) {
  if (!isAdmin) return;
  currentDocId = null;
  currentSection = null;
  configureModal(null, null, false, type);
}

function openEditForm(section, docId, data) {
  if (!isAdmin) return;
  currentDocId = docId;
  currentSection = section;
  configureModal(section, data, true);
}

// ‚úÖ G≈Å√ìWNA FUNKCJA KONFIGURACJI MODALU
function configureModal(section, data, isEditMode, type = null) {
  resetModal();
  const select = document.getElementById('modalSection');
  
  // Ustaw widoczno≈õƒá p√≥l
  document.getElementById('articleFields').style.display = 'none';
  document.getElementById('matchFields').style.display = 'none';
  document.getElementById('tableFields').style.display = 'none';

  if (type === 'match') {
    // Poka≈º tylko mecze
    select.style.display = 'block';
    [...select.options].forEach(opt => opt.style.display = matchSections.includes(opt.value) ? 'block' : 'none');
    select.value = 'ekstraklasa';
    document.getElementById('matchFields').style.display = 'block';
    document.getElementById('modalTitle').textContent = isEditMode ? 'Edytuj mecz' : 'Dodaj mecz';
    document.getElementById('modalSaveBtn').textContent = isEditMode ? 'Zapisz mecz' : 'Dodaj mecz';
    currentSection = select.value;
  } else if (type === 'table') {
    // Poka≈º tylko tabele
    select.style.display = 'block';
    [...select.options].forEach(opt => opt.style.display = tableSections.includes(opt.value) ? 'block' : 'none');
    select.value = 'ekstraklasa_table';
    document.getElementById('tableFields').style.display = 'block';
    document.getElementById('modalTitle').textContent = isEditMode ? 'Edytuj dru≈ºynƒô' : 'Dodaj dru≈ºynƒô';
    document.getElementById('modalSaveBtn').textContent = isEditMode ? 'Zapisz dru≈ºynƒô' : 'Dodaj dru≈ºynƒô';
    currentSection = select.value;
  } else if (articleSections.includes(section)) {
    select.style.display = 'none';
    document.getElementById('articleFields').style.display = 'block';
    document.getElementById('modalTitle').textContent = isEditMode ? 'Edytuj artyku≈Ç' : 'Dodaj artyku≈Ç';
    document.getElementById('modalSaveBtn').textContent = isEditMode ? 'Zapisz artyku≈Ç' : 'Dodaj artyku≈Ç';
  } else if (matchSections.includes(section)) {
    select.style.display = 'none';
    document.getElementById('matchFields').style.display = 'block';
    document.getElementById('modalTitle').textContent = isEditMode ? 'Edytuj mecz' : 'Dodaj mecz';
    document.getElementById('modalSaveBtn').textContent = isEditMode ? 'Zapisz mecz' : 'Dodaj mecz';
  } else if (tableSections.includes(section)) {
    select.style.display = 'none';
    document.getElementById('tableFields').style.display = 'block';
    document.getElementById('modalTitle').textContent = isEditMode ? 'Edytuj dru≈ºynƒô' : 'Dodaj dru≈ºynƒô';
    document.getElementById('modalSaveBtn').textContent = isEditMode ? 'Zapisz dru≈ºynƒô' : 'Dodaj dru≈ºynƒô';
  }

  // Wype≈Çnij dane przy edycji
  if (isEditMode && data) {
    if (articleSections.includes(section)) {
      document.getElementById('modalTitleInput').value = data.title || '';
      document.getElementById('modalContent').value = data.content || '';
      document.getElementById('modalImage').value = data.imageUrl || '';
      document.getElementById('modalVideo').value = data.videoUrl || '';
    } else if (matchSections.includes(section)) {
      document.getElementById('modalTitleInputMatch').value = data.title || '';
      document.getElementById('modalHomeTeam').value = data.homeTeam || '';
      document.getElementById('modalAwayTeam').value = data.awayTeam || '';
      document.getElementById('modalDate').value = data.date || '';
      document.getElementById('modalScore').value = data.score || '';
      document.getElementById('modalLogoHome').value = data.logoHome || '';
      document.getElementById('modalLogoAway').value = data.logoAway || '';
    } else if (tableSections.includes(section)) {
      document.getElementById('modalPosition').value = data.position || '';
      document.getElementById('modalTeamName').value = data.teamName || '';
      document.getElementById('modalTeamLogo').value = data.teamLogo || '';
      document.getElementById('modalMatches').value = data.matches || '';
      document.getElementById('modalPoints').value = data.points || '';
    }
    document.getElementById('modalDelBtn').style.display = 'inline-block';
  } else {
    document.getElementById('modalDelBtn').style.display = 'none';
  }

  // Nas≈Çuchiwanie zmiany ligi w trybie dodawania
  if (!isEditMode && (type === 'match' || type === 'table')) {
    select.onchange = () => { currentSection = select.value; };
  }

  document.getElementById('modal').classList.remove('hidden');
}

function resetModal() {
  document.getElementById('modalErr').textContent = '';
}

function closeModal() {
  document.getElementById('modal').classList.add('hidden');
}

function handleSave() {
  const section = currentSection || document.getElementById('modalSection').value;
  if (articleSections.includes(section)) {
    saveArticle();
  } else if (matchSections.includes(section)) {
    saveMatch();
  } else if (tableSections.includes(section)) {
    saveTableEntry();
  }
}

// ... funkcje saveArticle, saveMatch, saveTableEntry, deleteContent ‚Äì identyczne jak w oryginale ...

async function saveMatch() {
  const title = document.getElementById('modalTitleInputMatch').value.trim();
  const homeTeam = document.getElementById('modalHomeTeam').value.trim();
  const awayTeam = document.getElementById('modalAwayTeam').value.trim();
  const date = document.getElementById('modalDate').value.trim();
  const score = document.getElementById('modalScore').value.trim();
  const logoHome = document.getElementById('modalLogoHome').value.trim();
  const logoAway = document.getElementById('modalLogoAway').value.trim();
  const err = document.getElementById('modalErr');
  if (!title || !homeTeam || !awayTeam || !date || !score) {
    err.textContent = "Wype≈Çnij wszystkie pola meczu.";
    return;
  }
  const data = {
    title, homeTeam, awayTeam, date, score,
    logoHome: logoHome || null,
    logoAway: logoAway || null,
    createdAt: firebase.firestore.FieldValue.serverTimestamp()
  };
  try {
    if (currentDocId) {
      await db.collection(currentSection).doc(currentDocId).update(data); // ‚úÖ UPDATE
    } else {
      await db.collection(currentSection).add(data); // ‚úÖ ADD do w≈Ça≈õciwej ligi
    }
    closeModal();
    loadSection(currentSection);
    const activePage = document.querySelector('.page.active');
    if (activePage && ['polskie','zagraniczne'].includes(activePage.id)) {
      showLiga(activePage.id, currentSection);
    }
  } catch (e) {
    err.textContent = "B≈ÇƒÖd zapisu meczu.";
  }
}

// ... deleteContent identyczna ...

async function loadSection(section) {
  // ... artyku≈Çy i tabele bez zmian ...
  } else if (matchSections.includes(section)) {
    const container = document.getElementById(section + '-list');
    if (!container) return;
    try {
      const snap = await db.collection(section).orderBy("createdAt", "desc").get();
      if (snap.empty) {
        container.innerHTML = "<p>Brak mecz√≥w.</p>";
        return;
      }
      let html = '';
      let currentRound = '';
      snap.forEach(doc => {
        const d = doc.data();
        const round = d.title || 'Bez kolejki';
        if (round !== currentRound) {
          html += `<div class="match-header">${round}</div>`;
          currentRound = round;
        }
        // ‚úÖ DODANO PRZYCISK USU≈É!
        const actions = isAdmin ? 
          `<button class="edit-btn" style="position:absolute;top:10px;right:10px;" onclick="openEditForm('${section}', '${doc.id}', ${JSON.stringify(d).replace(/"/g, '&quot;')})">Edytuj</button>
           <button class="delete-btn" style="position:absolute;top:10px;right:70px;" onclick="openEditForm('${section}', '${doc.id}', ${JSON.stringify(d).replace(/"/g, '&quot;')})">Usu≈Ñ</button>` : '';
        html += `
<div class="match-row">
<div class="match-date">${d.date || '-'}</div>
<div class="team-name">
${d.logoHome ? `<img class="team-logo" src="${d.logoHome}" onerror="this.style.display='none'">` : ''}
<span>${d.homeTeam || '---'}</span>
</div>
<div class="score">${d.score || '-'}</div>
<div class="team-name">
<span>${d.awayTeam || '---'}</span>
${d.logoAway ? `<img class="team-logo" src="${d.logoAway}" onerror="this.style.display='none'">` : ''}
</div>
${actions}
</div>
`;
      });
      container.innerHTML = html;
    } catch (e) {
      container.innerHTML = "<p>B≈ÇƒÖd ≈Çadowania mecz√≥w.</p>";
    }
  }
  // ... reszta bez zmian ...
}

// ... eventy nawigacji ...

showSection('home');
</script>
</body>
</html>